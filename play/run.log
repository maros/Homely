pi@homemaster /opt/homely/play $ make run
c99 -I/opt/z-way-server/libzway-dev -L/opt/z-way-server/libs -L/lib/arm-linux-gnueabihf -L/usr/lib/arm-linux-gnueabihf -lzway -lxml2 -lpthread -lcrypto -larchive -o test.out test.c
export LD_LIBRARY_PATH=/opt/z-way-server/libs && ./test.out
Init zway with size 4
Init...
[2014-04-29 20:57:52.228] SETDATA controller.data = Empty
[2014-04-29 20:57:52.232] SETDATA controller.data.nodeId = Empty
[2014-04-29 20:57:52.233] SETDATA controller.data.homeId = Empty
[2014-04-29 20:57:52.235] SETDATA controller.data.SUCNodeId = Empty
[2014-04-29 20:57:52.237] SETDATA controller.data.isPrimary = Empty
[2014-04-29 20:57:52.238] SETDATA controller.data.isInOthersNetwork = Empty
[2014-04-29 20:57:52.239] SETDATA controller.data.isRealPrimary = Empty
[2014-04-29 20:57:52.241] SETDATA controller.data.isSUC = Empty
[2014-04-29 20:57:52.242] SETDATA controller.data.SISPresent = Empty
[2014-04-29 20:57:52.243] SETDATA controller.data.libType = Empty
[2014-04-29 20:57:52.244] SETDATA controller.data.SDK = Empty
[2014-04-29 20:57:52.245] SETDATA controller.data.ZWlibMajor = Empty
[2014-04-29 20:57:52.245] SETDATA controller.data.ZWlibMinor = Empty
[2014-04-29 20:57:52.246] SETDATA controller.data.ZWVersion = Empty
[2014-04-29 20:57:52.247] SETDATA controller.data.ZWaveChip = Empty
[2014-04-29 20:57:52.247] SETDATA controller.data.APIVersion = Empty
[2014-04-29 20:57:52.248] SETDATA controller.data.manufacturerId = Empty
[2014-04-29 20:57:52.249] SETDATA controller.data.vendor = Empty
[2014-04-29 20:57:52.250] SETDATA controller.data.manufacturerProductType = Empty
[2014-04-29 20:57:52.252] SETDATA controller.data.manufacturerProductId = Empty
[2014-04-29 20:57:52.253] SETDATA controller.data.capabilities = Empty
[2014-04-29 20:57:52.254] SETDATA controller.data.controllerState = Empty
[2014-04-29 20:57:52.255] SETDATA controller.data.nonManagmentJobs = Empty
[2014-04-29 20:57:52.256] SETDATA controller.data.lastIncludedDevice = Empty
[2014-04-29 20:57:52.257] SETDATA controller.data.lastExcludedDevice = Empty
[2014-04-29 20:57:52.257] SETDATA controller.data.oldSerialAPIAckTimeout10ms = Empty
[2014-04-29 20:57:52.258] SETDATA controller.data.oldSerialAPIByteTimeout10ms = Empty
[2014-04-29 20:57:52.259] SETDATA controller.data.curSerialAPIAckTimeout10ms = Empty
[2014-04-29 20:57:52.260] SETDATA controller.data.curSerialAPIByteTimeout10ms = Empty
[2014-04-29 20:57:52.260] SETDATA controller.data.libVersionId = Empty
[2014-04-29 20:57:52.262] SETDATA controller.data.countJobs = Empty
[2014-04-29 20:57:52.262] SETDATA controller.data.memoryGetAddress = Empty
[2014-04-29 20:57:52.263] SETDATA controller.data.memoryGetData = Empty
[2014-04-29 20:57:52.264] SETDATA controller.data.functionClasses = Empty
[2014-04-29 20:57:52.265] SETDATA controller.data.functionClassesNames = Empty
[2014-04-29 20:57:52.267] SETDATA controller.data.softwareRevisionVersion = Empty
[2014-04-29 20:57:52.268] SETDATA controller.data.softwareRevisionId = Empty
[2014-04-29 20:57:52.269] SETDATA controller.data.softwareRevisionDate = Empty
[2014-04-29 20:57:52.271] SETDATA controller.data.nodeId = 0 (0x00000000)
[2014-04-29 20:57:52.272] SETDATA controller.data.homeId = 0 (0x00000000)
[2014-04-29 20:57:52.273] SETDATA controller.data.SUCNodeId = 0 (0x00000000)
[2014-04-29 20:57:52.273] SETDATA controller.data.isPrimary = False
[2014-04-29 20:57:52.274] SETDATA controller.data.isInOthersNetwork = False
[2014-04-29 20:57:52.274] SETDATA controller.data.isRealPrimary = False
[2014-04-29 20:57:52.276] SETDATA controller.data.isSUC = False
[2014-04-29 20:57:52.278] SETDATA controller.data.SISPresent = False
[2014-04-29 20:57:52.278] SETDATA controller.data.libType = 0 (0x00000000)
[2014-04-29 20:57:52.279] SETDATA controller.data.ZWlibMajor = 0 (0x00000000)
[2014-04-29 20:57:52.279] SETDATA controller.data.ZWlibMinor = 0 (0x00000000)
[2014-04-29 20:57:52.280] SETDATA controller.data.ZWVersion = 0 (0x00000000)
[2014-04-29 20:57:52.282] SETDATA controller.data.manufacturerId = 0 (0x00000000)
[2014-04-29 20:57:52.283] SETDATA controller.data.manufacturerProductType = 0 (0x00000000)
[2014-04-29 20:57:52.283] SETDATA controller.data.manufacturerProductId = 0 (0x00000000)
[2014-04-29 20:57:52.284] SETDATA controller.data.controllerState = 0 (0x00000000)
[2014-04-29 20:57:52.285] SETDATA controller.data.nonManagmentJobs = 0 (0x00000000)
[2014-04-29 20:57:52.285] SETDATA controller.data.oldSerialAPIAckTimeout10ms = 0 (0x00000000)
[2014-04-29 20:57:52.286] SETDATA controller.data.oldSerialAPIByteTimeout10ms = 0 (0x00000000)
[2014-04-29 20:57:52.287] SETDATA controller.data.curSerialAPIAckTimeout10ms = 0 (0x00000000)
[2014-04-29 20:57:52.289] SETDATA controller.data.curSerialAPIByteTimeout10ms = 0 (0x00000000)
[2014-04-29 20:57:52.290] SETDATA controller.data.libVersionId = 1 (0x00000001)
[2014-04-29 20:57:52.290] SETDATA controller.data.countJobs = False
[2014-04-29 20:57:52.291] SETDATA controller.data.softwareRevisionVersion = "v1.5.0-rc1-1-ga232aeb"
[2014-04-29 20:57:52.293] SETDATA controller.data.softwareRevisionId = "a232aebd0bd5f8f15345f8f1c95706a263a25f02"
[2014-04-29 20:57:52.293] SETDATA controller.data.softwareRevisionDate = "2014-02-13 03:13:44 +0400"
[2014-04-29 20:57:52.295] SETDATA controller.data.functionClasses = int[43]
[2014-04-29 20:57:52.296]   [00] 2
[2014-04-29 20:57:52.297]   [01] 3
[2014-04-29 20:57:52.298]   [02] 4
[2014-04-29 20:57:52.298]   [03] 5
[2014-04-29 20:57:52.299]   [04] 6
[2014-04-29 20:57:52.300]   [05] 7
[2014-04-29 20:57:52.301]   [06] 8
[2014-04-29 20:57:52.302]   [07] 18
[2014-04-29 20:57:52.302]   [08] 19
[2014-04-29 20:57:52.303]   [09] 21
[2014-04-29 20:57:52.303]   [10] 22
[2014-04-29 20:57:52.304]   [11] 32
[2014-04-29 20:57:52.305]   [12] 33
[2014-04-29 20:57:52.305]   [13] 34
[2014-04-29 20:57:52.306]   [14] 35
[2014-04-29 20:57:52.306]   [15] 36
[2014-04-29 20:57:52.307]   [16] 65
[2014-04-29 20:57:52.307]   [17] 66
[2014-04-29 20:57:52.308]   [18] 70
[2014-04-29 20:57:52.309]   [19] 71
[2014-04-29 20:57:52.309]   [20] 72
[2014-04-29 20:57:52.310]   [21] 73
[2014-04-29 20:57:52.310]   [22] 74
[2014-04-29 20:57:52.312]   [23] 75
[2014-04-29 20:57:52.315]   [24] 76
[2014-04-29 20:57:52.315]   [25] 77
[2014-04-29 20:57:52.316]   [26] 80
[2014-04-29 20:57:52.317]   [27] 81
[2014-04-29 20:57:52.317]   [28] 82
[2014-04-29 20:57:52.318]   [29] 83
[2014-04-29 20:57:52.318]   [30] 84
[2014-04-29 20:57:52.319]   [31] 85
[2014-04-29 20:57:52.319]   [32] 86
[2014-04-29 20:57:52.320]   [33] 87
[2014-04-29 20:57:52.321]   [34] 96
[2014-04-29 20:57:52.323]   [35] 97
[2014-04-29 20:57:52.323]   [36] 98
[2014-04-29 20:57:52.324]   [37] 99
[2014-04-29 20:57:52.325]   [38] 128
[2014-04-29 20:57:52.326]   [39] 210
[2014-04-29 20:57:52.326]   [40] 211
[2014-04-29 20:57:52.327]   [41] 242
[2014-04-29 20:57:52.328]   [42] 243
[2014-04-29 20:57:52.330] SETDATA controller.data.functionClassesNames = string[43]
[2014-04-29 20:57:52.331]   [00] "SerialAPIGetInitData"
[2014-04-29 20:57:52.332]   [01] "SerialAPIApplicationNodeInformation"
[2014-04-29 20:57:52.332]   [02] "ApplicationCommandHandler"
[2014-04-29 20:57:52.333]   [03] "GetControllerCapabilities"
[2014-04-29 20:57:52.334]   [04] "SerialAPISetTimeouts"
[2014-04-29 20:57:52.335]   [05] "GetSerialAPICapabilities"
[2014-04-29 20:57:52.336]   [06] "SerialAPISoftReset"
[2014-04-29 20:57:52.336]   [07] "SendNodeInformation"
[2014-04-29 20:57:52.337]   [08] "SendData"
[2014-04-29 20:57:52.337]   [09] "GetVersion"
[2014-04-29 20:57:52.338]   [10] "SendDataAbort"
[2014-04-29 20:57:52.339]   [11] "GetHomeId"
[2014-04-29 20:57:52.340]   [12] "MemoryGetByte"
[2014-04-29 20:57:52.341]   [13] "MemoryPutByte"
[2014-04-29 20:57:52.341]   [14] "MemoryGetBuffer"
[2014-04-29 20:57:52.342]   [15] "MemoryPutBuffer"
[2014-04-29 20:57:52.343]   [16] "GetNodeProtocolInformation"
[2014-04-29 20:57:52.344]   [17] "SetDefault"
[2014-04-29 20:57:52.344]   [18] "AssignReturnRoute"
[2014-04-29 20:57:52.345]   [19] "DeleteReturnRoute"
[2014-04-29 20:57:52.347]   [20] "RequestNodeNeighbourUpdate"
[2014-04-29 20:57:52.347]   [21] "ApplicationNodeUpdate"
[2014-04-29 20:57:52.347]   [22] "AddNodeToNetwork"
[2014-04-29 20:57:52.348]   [23] "RemoveNodeFromNetwork"
[2014-04-29 20:57:52.349]   [24] "CreateNewPrimary"
[2014-04-29 20:57:52.350]   [25] "ControllerChange"
[2014-04-29 20:57:52.351]   [26] "SetLearnMode"
[2014-04-29 20:57:52.352]   [27] "AssignSUCReturnRoute"
[2014-04-29 20:57:52.352]   [28] "EnableSUC"
[2014-04-29 20:57:52.353]   [29] "RequestNetworkUpdate"
[2014-04-29 20:57:52.353]   [30] "SetSUCNodeId"
[2014-04-29 20:57:52.355]   [31] "DeleteSUCReturnRoute"
[2014-04-29 20:57:52.356]   [32] "GetSUCNodeId"
[2014-04-29 20:57:52.357]   [33] "SendSUCNodeId"
[2014-04-29 20:57:52.358]   [34] "RequestNodeInformation"
[2014-04-29 20:57:52.359]   [35] "RemoveFailedNode"
[2014-04-29 20:57:52.359]   [36] "IsFailedNode"
[2014-04-29 20:57:52.360]   [37] "ReplaceFailedNode"
[2014-04-29 20:57:52.360]   [38] "GetRoutingTableLine"
[2014-04-29 20:57:52.361]   [39] "WatchDogStart"
[2014-04-29 20:57:52.363]   [40] "WatchDogStop"
[2014-04-29 20:57:52.363]   [41] "ZMEFreqChange"
[2014-04-29 20:57:52.364]   [42] "ZMERestore"
Adding device events...
Starting...
[2014-04-29 20:57:52.365] Opened device: /dev/ttyAMA0
[2014-04-29 20:57:52.367] Worker thread successfully created
Discovering...
[2014-04-29 20:57:52.371] Worker thread entry point
[2014-04-29 20:57:52.381] Adding job: Get controller info and supported function classes
[2014-04-29 20:57:52.385] SENDING (cb 0x07): ( 01 03 00 07 FB )
[2014-04-29 20:57:52.398] Received SOF, while awaiting ACK
[2014-04-29 20:57:52.399] RECEIVED: ( 01 2B 01 07 04 02 01 47 00 02 00 03 FE 00 16 80 0C 00 00 00 E3 97 7D 80 07 00 00 80 00 00 00 00 00 00 00 00 00 00 02 00 00 80 07 00 7C )
[2014-04-29 20:57:52.402] SENT ACK
[2014-04-29 20:57:52.403] Received response, but there's no matching request (funcId = 0x07)
[2014-04-29 20:57:52.415] SENDING (cb 0x07): ( 01 03 00 07 FB )
[2014-04-29 20:57:52.426] Received SOF, while awaiting ACK
[2014-04-29 20:57:52.427] RECEIVED: ( 01 2B 01 07 04 02 01 47 00 02 00 03 FE 00 16 80 0C 00 00 00 E3 97 7D 80 07 00 00 80 00 00 00 00 00 00 00 00 00 00 02 00 00 80 07 00 7C )
[2014-04-29 20:57:52.428] SENT ACK
[2014-04-29 20:57:52.428] Received response, but there's no matching request (funcId = 0x07)
[2014-04-29 20:57:52.440] SENDING (cb 0x07): ( 01 03 00 07 FB )
[2014-04-29 20:57:52.451] Received SOF, while awaiting ACK
[2014-04-29 20:57:52.451] RECEIVED: ( 01 2B 01 07 04 02 01 47 00 02 00 03 FE 00 16 80 0C 00 00 00 E3 97 7D 80 07 00 00 80 00 00 00 00 00 00 00 00 00 00 02 00 00 80 07 00 7C )
[2014-04-29 20:57:52.452] SENT ACK
[2014-04-29 20:57:52.453] Received response, but there's no matching request (funcId = 0x07)
[2014-04-29 20:57:52.465] SENDING (cb 0x07): ( 01 03 00 07 FB )
[2014-04-29 20:57:52.476] Received SOF, while awaiting ACK
[2014-04-29 20:57:52.477] RECEIVED: ( 01 2B 01 07 04 02 01 47 00 02 00 03 FE 00 16 80 0C 00 00 00 E3 97 7D 80 07 00 00 80 00 00 00 00 00 00 00 00 00 00 02 00 00 80 07 00 7C )
[2014-04-29 20:57:52.478] SENT ACK
[2014-04-29 20:57:52.479] Received response, but there's no matching request (funcId = 0x07)
[2014-04-29 20:57:52.491] SENDING (cb 0x07): ( 01 03 00 07 FB )
[2014-04-29 20:57:52.503] Received SOF, while awaiting ACK
[2014-04-29 20:57:52.503] RECEIVED: ( 01 2B 01 07 04 02 01 47 00 02 00 03 FE 00 16 80 0C 00 00 00 E3 97 7D 80 07 00 00 80 00 00 00 00 00 00 00 00 00 00 02 00 00 80 07 00 7C )
[2014-04-29 20:57:52.505] SENT ACK
[2014-04-29 20:57:52.506] Received response, but there's no matching request (funcId = 0x07)
[2014-04-29 20:57:52.519] SENDING (cb 0x07): ( 01 03 00 07 FB )
[2014-04-29 20:57:52.529] Received SOF, while awaiting ACK
[2014-04-29 20:57:52.530] RECEIVED: ( 01 2B 01 07 04 02 01 47 00 02 00 03 FE 00 16 80 0C 00 00 00 E3 97 7D 80 07 00 00 80 00 00 00 00 00 00 00 00 00 00 02 00 00 80 07 00 7C )
[2014-04-29 20:57:52.531] SENT ACK
[2014-04-29 20:57:52.532] Received response, but there's no matching request (funcId = 0x07)
[2014-04-29 20:57:52.544] SENDING (cb 0x07): ( 01 03 00 07 FB )
[2014-04-29 20:57:52.554] Received SOF, while awaiting ACK
[2014-04-29 20:57:52.555] RECEIVED: ( 01 2B 01 07 04 02 01 47 00 02 00 03 FE 00 16 80 0C 00 00 00 E3 97 7D 80 07 00 00 80 00 00 00 00 00 00 00 00 00 00 02 00 00 80 07 00 7C )
[2014-04-29 20:57:52.557] SENT ACK
[2014-04-29 20:57:52.557] Received response, but there's no matching request (funcId = 0x07)
[2014-04-29 20:57:52.570] SENDING (cb 0x07): ( 01 03 00 07 FB )
[2014-04-29 20:57:52.580] Received SOF, while awaiting ACK
[2014-04-29 20:57:52.581] RECEIVED: ( 01 2B 01 07 04 02 01 47 00 02 00 03 FE 00 16 80 0C 00 00 00 E3 97 7D 80 07 00 00 80 00 00 00 00 00 00 00 00 00 00 02 00 00 80 07 00 7C )
[2014-04-29 20:57:52.583] SENT ACK
[2014-04-29 20:57:52.584] Received response, but there's no matching request (funcId = 0x07)
[2014-04-29 20:57:52.595] SENDING (cb 0x07): ( 01 03 00 07 FB )
[2014-04-29 20:57:52.607] Received SOF, while awaiting ACK
[2014-04-29 20:57:52.607] RECEIVED: ( 01 2B 01 07 04 02 01 47 00 02 00 03 FE 00 16 80 0C 00 00 00 E3 97 7D 80 07 00 00 80 00 00 00 00 00 00 00 00 00 00 02 00 00 80 07 00 7C )
[2014-04-29 20:57:52.607] SENT ACK
[2014-04-29 20:57:52.608] Received response, but there's no matching request (funcId = 0x07)
[2014-04-29 20:57:52.621] SENDING (cb 0x07): ( 01 03 00 07 FB )
[2014-04-29 20:57:52.631] Received SOF, while awaiting ACK
[2014-04-29 20:57:52.632] RECEIVED: ( 01 2B 01 07 04 02 01 47 00 02 00 03 FE 00 16 80 0C 00 00 00 E3 97 7D 80 07 00 00 80 00 00 00 00 00 00 00 00 00 00 02 00 00 80 07 00 7C )
[2014-04-29 20:57:52.632] SENT ACK
[2014-04-29 20:57:52.633] Received response, but there's no matching request (funcId = 0x07)
[2014-04-29 20:57:52.645] SENDING (cb 0x07): ( 01 03 00 07 FB )
[2014-04-29 20:57:52.656] RECEIVED ACK
[2014-04-29 20:58:11.531] Job 0x07 (Get controller info and supported function classes): No RESPONSE received before timeout
[2014-04-29 20:58:11.531] Job 0x07 (Get controller info and supported function classes) dropped: too many resends
[2014-04-29 20:58:11.531] Job 0x07 (Get controller info and supported function classes): fail
[2014-04-29 20:58:11.531] Get Serial API Capabilities returned zero.
[2014-04-29 20:58:11.532] Removing job: Get controller info and supported function classes
[2014-04-29 20:58:11.542] Worker thread exit point
Z-Way terminated
[2014-04-29 20:58:11.543] Worker thread successfully finished
Error: -9
[2014-04-29 20:58:11.545] SaveData will not save data since it wasn't loaded. This is to prevent data loss.